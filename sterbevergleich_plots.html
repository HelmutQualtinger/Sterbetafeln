<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Sterbevergleich - Interaktive Plots</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1, h2 {
            color: #333;
        }
        .plot {
            width: 100%;
            height: 600px;
        }
        .plot-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        @media (max-width: 1400px) {
            .plot-row {
                grid-template-columns: 1fr;
            }
        }
        .info {
            background-color: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #1976d2;
            margin: 20px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Sterbewahrscheinlichkeit - Vergleich deutscher Sterbetafeln</h1>

    <div class="info">
        <strong>Datenquelle:</strong> Deutsche Sterbetafeln 2016-2018, 2020-2022, 2022-2024<br>
        <strong>Darstellung:</strong> Lineare Skala
    </div>

    <h2>Plot 1: Alle drei Epochen nebeneinander (nach Geschlecht)</h2>

    <div class="plot-row">
        <div id="plot1-male" class="plot"></div>
        <div id="plot1-female" class="plot"></div>
        <div id="plot1-total" class="plot"></div>
    </div>

    <h2>Plot 2: Jede Epoche einzeln (Männer, Frauen, Gesamt)</h2>

    <div class="plot-row">
        <div id="plot2-2016" class="plot"></div>
        <div id="plot2-2020" class="plot"></div>
        <div id="plot2-2022" class="plot"></div>
    </div>

    <script>
        var ages = ["0-5", "5-10", "10-15", "15-20", "20-25", "25-30", "30-35", "35-40", "40-45", "45-50", "50-55", "55-60", "60-65", "65-70", "70-75", "75-80", "80-85", "85-90", "90-95", "95-100"];
        var data_male = {"2016-2018": [0.42100000000000004, 0.04418602315749305, 0.045210227558145376, 0.14674841692632426, 0.21742631663713963, 0.23605842950528608, 0.3306570671628208, 0.4819057088072073, 0.731965909554296, 1.2077145850021567, 2.1008752780723094, 3.638892723276384, 5.841322314049586, 8.71045887020328, 12.609286465143708, 19.099310547161508, 31.7298277425204, 51.27353855143289, 71.95573967077293, 87.42468415937805], "2020-2022": [0.381, 0.041156807436332425, 0.042177991122537103, 0.14668059797460214, 0.21128886205855718, 0.23190159306311756, 0.31126831733198584, 0.5078972445814156, 0.7815286169898411, 1.217984266847413, 2.0605480933172537, 3.5210071545336814, 5.881899899877873, 9.174333376196767, 13.317459295964992, 19.715507513214945, 31.366746809691143, 51.37698733495015, 73.96918643316339, 88.73749201618054], "2022-2024": [0.407, 0.04819615836454369, 0.046210256667838664, 0.15276535442567263, 0.2224526155797357, 0.2380808264229365, 0.3134796238244514, 0.49807263136538854, 0.7727675886184995, 1.1969465021421746, 1.989268556454464, 3.322971152111869, 5.656215361991198, 8.919701746018822, 13.182799269467044, 19.821410182855967, 31.26616883474304, 50.79814211734558, 74.07769097222221, 89.22143156132273]};
        var data_female = {"2016-2018": [0.357, 0.03612898046024307, 0.04015782023351772, 0.0773348599435556, 0.08744597446979596, 0.10864863233504019, 0.17422830958255703, 0.25423215835031576, 0.40962880550217456, 0.7058345605037323, 1.1731615014830725, 1.9643356136737629, 3.0931644233306943, 4.731194509504875, 7.31486987147235, 11.754981185614707, 22.675353363065696, 41.473204599696246, 64.89033055298115, 82.95644522657281], "2020-2022": [0.33999999999999997, 0.031105759582580775, 0.03613405735277881, 0.07631058407719418, 0.08742224946491554, 0.10359046565422911, 0.16611797396478298, 0.2672394667312075, 0.4196285023812653, 0.682358197437095, 1.125651773847255, 1.8695261040854523, 3.108502544757168, 4.898261030331373, 7.664070808604069, 12.461452721530746, 22.16657470678947, 41.53412705625739, 66.11534276387377, 84.90687219010918], "2022-2024": [0.35400000000000004, 0.04014210304477851, 0.04116217898520169, 0.08336262742931752, 0.09549466235097806, 0.1056476199100486, 0.1611571080356963, 0.2734004560037126, 0.42083539873142406, 0.6694773200589221, 1.1066110292914417, 1.8129356526775189, 3.0692746021213173, 4.953980896910689, 7.72739744820963, 12.830043737377492, 22.066975580635074, 40.52417516277882, 65.4492486967188, 84.6099227833496]};
        var data_total = {"2016-2018": [0.389, 0.04015750180886806, 0.04268402389583155, 0.11204163843493993, 0.1524361455534678, 0.17235353092016314, 0.2524426883726889, 0.3680689335787615, 0.5707973575282352, 0.9567745727529444, 1.6370183897776909, 2.8016141684750733, 4.4672433686901405, 6.720826689854077, 9.962078168308029, 15.427145866388107, 27.202590552793048, 46.37337157556457, 68.42303511187704, 85.19056469297543], "2020-2022": [0.3605, 0.0361312835094566, 0.03915602423765796, 0.11149559102589816, 0.14935555576173637, 0.16774602935867333, 0.2386931456483844, 0.38756835565631154, 0.6005785596855532, 0.950171232142254, 1.5930999335822542, 2.695266629309567, 4.495201222317521, 7.03629720326407, 10.49076505228453, 16.088480117372846, 26.766660758240306, 46.455557195603774, 70.04226459851859, 86.82218210314485], "2022-2024": [0.3805, 0.0441691307046611, 0.04368621782652018, 0.11806399092749507, 0.15897363896535688, 0.17186422316649255, 0.23731836593007383, 0.38573654368455057, 0.5968014936749617, 0.9332119111005484, 1.547939792872953, 2.567953402394694, 4.362744982056258, 6.9368413214647555, 10.455098358838336, 16.32572696011673, 26.666572207689057, 45.6611586400622, 69.7634698344705, 86.91567717233616]};

        var colors = {
            '2016-2018': '#1f77b4',
            '2020-2022': '#ff7f0e',
            '2022-2024': '#2ca02c'
        };

        // Plot 1: Männer
        var trace1_male_2016 = {x: ages, y: data_male['2016-2018'], mode: 'lines+markers', name: '2016-2018', line: {color: colors['2016-2018']}, marker: {size: 6}};
        var trace1_male_2020 = {x: ages, y: data_male['2020-2022'], mode: 'lines+markers', name: '2020-2022', line: {color: colors['2020-2022']}, marker: {size: 6}};
        var trace1_male_2022 = {x: ages, y: data_male['2022-2024'], mode: 'lines+markers', name: '2022-2024', line: {color: colors['2022-2024']}, marker: {size: 6}};
        var layout1_male = {title: 'Männer', xaxis: {title: 'Alter (Jahre)'}, yaxis: {title: 'Sterbewahrscheinlichkeit (%)'}, hovermode: 'x unified'};
        Plotly.newPlot('plot1-male', [trace1_male_2016, trace1_male_2020, trace1_male_2022], layout1_male, {responsive: true});

        // Plot 1: Frauen
        var trace1_female_2016 = {x: ages, y: data_female['2016-2018'], mode: 'lines+markers', name: '2016-2018', line: {color: colors['2016-2018']}, marker: {size: 6}};
        var trace1_female_2020 = {x: ages, y: data_female['2020-2022'], mode: 'lines+markers', name: '2020-2022', line: {color: colors['2020-2022']}, marker: {size: 6}};
        var trace1_female_2022 = {x: ages, y: data_female['2022-2024'], mode: 'lines+markers', name: '2022-2024', line: {color: colors['2022-2024']}, marker: {size: 6}};
        var layout1_female = {title: 'Frauen', xaxis: {title: 'Alter (Jahre)'}, yaxis: {title: 'Sterbewahrscheinlichkeit (%)'}, hovermode: 'x unified'};
        Plotly.newPlot('plot1-female', [trace1_female_2016, trace1_female_2020, trace1_female_2022], layout1_female, {responsive: true});

        // Plot 1: Gesamt
        var trace1_total_2016 = {x: ages, y: data_total['2016-2018'], mode: 'lines+markers', name: '2016-2018', line: {color: colors['2016-2018']}, marker: {size: 6}};
        var trace1_total_2020 = {x: ages, y: data_total['2020-2022'], mode: 'lines+markers', name: '2020-2022', line: {color: colors['2020-2022']}, marker: {size: 6}};
        var trace1_total_2022 = {x: ages, y: data_total['2022-2024'], mode: 'lines+markers', name: '2022-2024', line: {color: colors['2022-2024']}, marker: {size: 6}};
        var layout1_total = {title: 'Gesamt (Durchschnitt)', xaxis: {title: 'Alter (Jahre)'}, yaxis: {title: 'Sterbewahrscheinlichkeit (%)'}, hovermode: 'x unified'};
        Plotly.newPlot('plot1-total', [trace1_total_2016, trace1_total_2020, trace1_total_2022], layout1_total, {responsive: true});

        // Plot 2: Periode 2016-2018
        var trace2_2016_m = {x: ages, y: data_male['2016-2018'], mode: 'lines+markers', name: 'Männer', line: {color: '#1f77b4'}, marker: {size: 6}};
        var trace2_2016_w = {x: ages, y: data_female['2016-2018'], mode: 'lines+markers', name: 'Frauen', line: {color: '#ff1493'}, marker: {size: 6}};
        var trace2_2016_t = {x: ages, y: data_total['2016-2018'], mode: 'lines+markers', name: 'Gesamt', line: {color: '#2ca02c'}, marker: {size: 6}};
        var layout2_2016 = {title: 'Periode 2016-2018', xaxis: {title: 'Alter (Jahre)'}, yaxis: {title: 'Sterbewahrscheinlichkeit (%)'}, hovermode: 'x unified'};
        Plotly.newPlot('plot2-2016', [trace2_2016_m, trace2_2016_w, trace2_2016_t], layout2_2016, {responsive: true});

        // Plot 2: Periode 2020-2022
        var trace2_2020_m = {x: ages, y: data_male['2020-2022'], mode: 'lines+markers', name: 'Männer', line: {color: '#1f77b4'}, marker: {size: 6}};
        var trace2_2020_w = {x: ages, y: data_female['2020-2022'], mode: 'lines+markers', name: 'Frauen', line: {color: '#ff1493'}, marker: {size: 6}};
        var trace2_2020_t = {x: ages, y: data_total['2020-2022'], mode: 'lines+markers', name: 'Gesamt', line: {color: '#2ca02c'}, marker: {size: 6}};
        var layout2_2020 = {title: 'Periode 2020-2022 (Pandemie)', xaxis: {title: 'Alter (Jahre)'}, yaxis: {title: 'Sterbewahrscheinlichkeit (%)'}, hovermode: 'x unified'};
        Plotly.newPlot('plot2-2020', [trace2_2020_m, trace2_2020_w, trace2_2020_t], layout2_2020, {responsive: true});

        // Plot 2: Periode 2022-2024
        var trace2_2022_m = {x: ages, y: data_male['2022-2024'], mode: 'lines+markers', name: 'Männer', line: {color: '#1f77b4'}, marker: {size: 6}};
        var trace2_2022_w = {x: ages, y: data_female['2022-2024'], mode: 'lines+markers', name: 'Frauen', line: {color: '#ff1493'}, marker: {size: 6}};
        var trace2_2022_t = {x: ages, y: data_total['2022-2024'], mode: 'lines+markers', name: 'Gesamt', line: {color: '#2ca02c'}, marker: {size: 6}};
        var layout2_2022 = {title: 'Periode 2022-2024', xaxis: {title: 'Alter (Jahre)'}, yaxis: {title: 'Sterbewahrscheinlichkeit (%)'}, hovermode: 'x unified'};
        Plotly.newPlot('plot2-2022', [trace2_2022_m, trace2_2022_w, trace2_2022_t], layout2_2022, {responsive: true});
    </script>
</body>
</html>
